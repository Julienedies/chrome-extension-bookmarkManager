<script type="text/ng-template" id="tree_item_renderer.html">

<span class="dt" xng-click="$location.path('/node/'+node.id);"
		bm-draggable="true"
		bm-drag-channel="dragChannel" 
		bm-drop-channel="dropChannel"	
		bm-drag="node" 
		bm-on-drop="onDrop($event, $position, $data, node, tree)"
		bm-on-drop-success="dropSuccessHandler($event, node, tree)" >
	
	<a class="title" ng-href="{{'#/node/'+node.id}}"  >{{node.title || '目录'}}</a>
</span>

<em class="toggle" ng-if="node.children" bm-toggle>▼</em>

<ul ng-if="node.children">
	<li ng-repeat="node in node.children | isTree" ng-include="'tree_item_renderer.html'"></li>
</ul>
</script>

<ul class="dir-tree" ng-show="!node.open" bm-current-active=".dt" bm-current-active-class="selected">
	<li ng-repeat="node in tree | isTree" ng-include="'tree_item_renderer.html'"></li>
</ul>

